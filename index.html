<!DOCTYPE html>
<html lang="it">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>San Valentino ‚ù§Ô∏è</title>
<script src="https://cdn.tailwindcss.com"></script>

<style>
body {
  transition: background 1s ease;
}

/* CUORI */
.heart {
  position: fixed;
  top: -10px;
  font-size: 22px;
  animation: fall linear forwards;
  pointer-events: none;
  z-index: 1;
}

@keyframes fall {
  to {
    transform: translateY(110vh);
    opacity: 0.8;
  }
}

/* FADE */
.fadeIn {
  animation: fadeIn 1.2s ease forwards;
}

@keyframes fadeIn {
  from { opacity: 0; }
  to { opacity: 1; }
}

/* SLIDE DAL BASSO */
.slideUp {
  animation: slideUp 1.4s ease forwards;
}

@keyframes slideUp {
  from { opacity: 0; transform: translateY(40px); }
  to { opacity: 1; transform: translateY(0); }
}

/* BURST */
.burst {
  position: fixed;
  font-size: 30px;
  animation: burstAnim 1.2s ease-out forwards;
  pointer-events: none;
  z-index: 9999;
}

@keyframes burstAnim {
  from { opacity: 1; transform: scale(1); }
  to { opacity: 0; transform: translate(var(--x), var(--y)) scale(0.2); }
}

/* FLASH */
.flash {
  position: fixed;
  inset: 0;
  background: radial-gradient(circle, #ff9ad5, #ff4fa3);
  animation: flashAnim 1s ease forwards;
  z-index: 9998;
}

@keyframes flashAnim {
  0% { opacity: 0; }
  30% { opacity: 1; }
  100% { opacity: 0; }
}

/* ZOOM */
.zoomIn {
  animation: zoomIn 0.7s ease forwards;
}

@keyframes zoomIn {
  from { transform: scale(0.85); opacity: 0; }
  to { transform: scale(1); opacity: 1; }
}
</style>
</head>

<body class="bg-pink-50 flex items-center justify-center min-h-screen overflow-hidden px-4">

<audio id="romanticMusic" preload="auto">
  <source src="at-last.mp3" type="audio/mpeg">
</audio>

<!-- PAGE 1 -->
<div id="page1" class="relative text-center bg-white p-6 sm:p-10 rounded-3xl shadow-xl max-w-lg w-full z-10 fadeIn">
  <h1 class="text-2xl sm:text-3xl font-bold text-pink-600 mb-6">
    üíò Marika, vorresti essere il mio San Valentino?
  </h1>

  <div class="relative h-32 flex items-center justify-center">
    <button onclick="handleYes()"
      class="bg-pink-500 hover:bg-pink-600 text-white px-6 sm:px-8 py-3 rounded-2xl text-lg transition mr-4">
      S√¨ ‚ù§Ô∏è
    </button>

    <button id="noBtn" onclick="moveButton()"
      class="absolute bg-gray-300 hover:bg-gray-400 text-gray-800 px-6 sm:px-8 py-3 rounded-2xl text-lg transition">
      No üò¢
    </button>
  </div>
</div>

<!-- PAGE 2 -->
<div id="page2" class="hidden text-center bg-white p-6 sm:p-10 rounded-3xl shadow-xl max-w-lg w-full z-10">

  <p id="loveText" class="text-lg sm:text-xl text-pink-500 mb-6 font-semibold"></p>

  <div id="photoContainer" class="hidden mb-6">
    <img src="foto.jpg"
      class="rounded-2xl shadow-lg mx-auto max-h-72 sm:max-h-80 object-cover" />
  </div>

  <h1 id="title2" class="hidden text-2xl sm:text-3xl font-bold text-pink-600 mb-6">
    ‚ú® Il nostro appuntamento ‚ú®
  </h1>

  <div id="appointmentInfo" class="hidden">
    <p class="text-lg mb-2">üìÖ <strong>14 Febbraio</strong></p>
    <p class="text-lg mb-2">üïñ <strong>20:00</strong></p>
    <p class="text-lg mb-4">üìç <strong>Ristorante La Volpe - Montegrotto Terme (PD)</strong></p>
  </div>

  <div id="countdownBox" class="hidden mt-4 text-xl font-semibold text-pink-600">
    ‚è≥ Mancano:
    <div id="countdown" class="text-2xl mt-2"></div>
  </div>
</div>

<script>
// NO scappa
function moveButton() {
  const btn = document.getElementById('noBtn');
  const c = document.getElementById('page1');
  btn.style.left = Math.random() * (c.offsetWidth - btn.offsetWidth) + 'px';
  btn.style.top = Math.random() * (c.offsetHeight - btn.offsetHeight) + 'px';
}

// cuori
setInterval(() => {
  const h = document.createElement('div');
  h.className = 'heart';
  h.innerHTML = '‚ù§Ô∏è';
  h.style.left = Math.random() * window.innerWidth + 'px';
  h.style.animationDuration = (3 + Math.random() * 3) + 's';
  document.body.appendChild(h);
  setTimeout(() => h.remove(), 6000);
}, 450);

// CLICK SI
function handleYes() {

  // VIBRAZIONE (pi√π forte)
  if (navigator.vibrate) {
    navigator.vibrate([300,150,300,150,400]);
  }

  // flash
  const flash = document.createElement('div');
  flash.className = 'flash';
  document.body.appendC
