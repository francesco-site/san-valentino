<!DOCTYPE html>
<html lang="it">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>San Valentino ‚ù§Ô∏è</title>
  <script src="https://cdn.tailwindcss.com"></script>

  <style>
    .heart {
      position: fixed;
      top: -10px;
      font-size: 20px;
      animation: fall linear forwards;
      pointer-events: none;
      z-index: 0;
    }

    @keyframes fall {
      to {
        transform: translateY(110vh);
        opacity: 0.7;
      }
    }

    .fadeIn {
      animation: fadeInAnim 1s ease forwards;
    }

    @keyframes fadeInAnim {
      from { opacity: 0; transform: scale(0.95); }
      to { opacity: 1; transform: scale(1); }
    }

    .burst {
      position: fixed;
      font-size: 28px;
      animation: burstAnim 1s ease-out forwards;
      pointer-events: none;
      z-index: 999;
    }

    @keyframes burstAnim {
      from { opacity: 1; transform: scale(1); }
      to { opacity: 0; transform: translate(var(--x), var(--y)) scale(0.3); }
    }
  </style>
</head>
<body class="bg-pink-50 flex items-center justify-center min-h-screen overflow-hidden">

  <!-- Musica parte solo dopo SI -->
  <audio id="romanticMusic" loop>
    <source src="at-last.mp3" type="audio/mpeg">
  </audio>

  <!-- PAGINA 1 -->
  <div id="page1" class="relative text-center bg-white p-10 rounded-3xl shadow-xl max-w-lg z-10 fadeIn">
    <h1 class="text-3xl font-bold text-pink-600 mb-6">üíò Marika, vorresti essere il mio San Valentino?</h1>

    <div class="relative h-32 flex items-center justify-center">
      <button onclick="handleYes()" class="bg-pink-500 hover:bg-pink-600 text-white px-8 py-3 rounded-2xl text-lg transition mr-6">
        S√¨ ‚ù§Ô∏è
      </button>
      
      <!-- ORA SCAPPA AL CLICK -->
      <button id="noBtn" onclick="moveButton()" class="absolute bg-gray-300 hover:bg-gray-400 text-gray-800 px-8 py-3 rounded-2xl text-lg transition">
        No üò¢
      </button>
    </div>
  </div>

  <!-- PAGINA 2 -->
  <div id="page2" class="hidden text-center bg-white p-10 rounded-3xl shadow-xl max-w-lg z-10">
    
    <!-- FOTO CHE APPARE DOPO SI -->
    <div id="photoContainer" class="hidden mb-6 fadeIn">
      <img src="foto.jpg" class="rounded-2xl shadow-lg mx-auto max-h-80 object-cover" />
    </div>

    <h1 class="text-3xl font-bold text-pink-600 mb-6">‚ú® Il nostro appuntamento ‚ú®</h1>
    
    <div id="appointmentInfo" class="hidden fadeIn">
      <p class="text-lg mb-3">üìÖ Data: <strong>14 Febbraio</strong></p>
      <p class="text-lg mb-3">üïñ Orario: <strong>20:00</strong></p>
      <p class="text-lg mb-3">üìç Luogo: <strong>Ristorante La Volpe - Montegrotto Terme (PD)</strong></p>

      <div class="mt-6 text-xl font-semibold text-pink-600">
        ‚è≥ Mancano:
        <div id="countdown" class="text-2xl mt-2"></div>
      </div>
    </div>

  </div>

<script>

/* Pulsante NO scappa al click */
function moveButton() {
  const btn = document.getElementById('noBtn');
  const container = document.getElementById('page1');

  const maxX = container.offsetWidth - btn.offsetWidth;
  const maxY = container.offsetHeight - btn.offsetHeight;

  btn.style.left = Math.random() * maxX + 'px';
  btn.style.top = Math.random() * maxY + 'px';
}

/* Cuori che cadono */
setInterval(() => {
  const heart = document.createElement('div');
  heart.className = 'heart';
  heart.innerHTML = '‚ù§Ô∏è';
  heart.style.left = Math.random() * window.innerWidth + 'px';
  heart.style.animationDuration = (3 + Math.random() * 3) + 's';

  document.body.appendChild(heart);
  setTimeout(() => heart.remove(), 6000);
}, 400);

/* CLICK SI */
function handleYes() {
  burstHearts();

  const music = document.getElementById('romanticMusic');
  music.play().catch(()=>{});

  setTimeout(() => {
    document.getElementById('page1').classList.add('hidden');

    const page2 = document.getElementById('page2');
    page2.classList.remove('hidden');
    page2.classList.add('fadeIn');

    setTimeout(() => {
      document.getElementById('photoContainer').classList.remove('hidden');
    }, 500);

    setTimeout(() => {
      document.getElementById('appointmentInfo').classList.remove('hidden');
      startCountdown();
    }, 1200);

  }, 800);
}

/* Esplosione cuori */
function burstHearts() {
  for (let i = 0; i < 25; i++) {
    const heart = document.createElement('div');
    heart.className = 'burst';
    heart.innerHTML = 'üíñ';
    heart.style.left = window.innerWidth / 2 + 'px';
    heart.style.top = window.innerHeight / 2 + 'px';

    heart.style.setProperty('--x', (Math.random() - 0.5) * 600 + 'px');
    heart.style.setProperty('--y', (Math.random() - 0.5) * 600 + 'px');

    document.body.appendChild(heart);
    setTimeout(() => heart.remove(), 1000);
  }
}

/* COUNTDOWN */
function startCountdown() {
  const countdown = document.getElementById('countdown');
  const targetDate = new Date('Feb 14, 2026 20:00:00').getTime();

  setInterval(() => {
    const now = new Date().getTime();
    const diff = targetDate - now;

    if (diff <= 0) {
      countdown.innerHTML = '√à il momento ‚ù§Ô∏è';
      return;
    }

    const days = Math.floor(diff / (1000 * 60 * 60 * 24));
    const hours = Math.floor((diff / (1000 * 60 * 60)) % 24);
    const minutes = Math.floor((diff / (1000 * 60)) % 60);
    const seconds = Math.floor((diff / 1000) % 60);

    countdown.innerHTML = `${days}g ${hours}h ${minutes}m ${seconds}s`;
  }, 1000);
}

</script>

</body>
</html>
